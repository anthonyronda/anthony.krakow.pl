---
import { t } from '../i18n/utils';

interface Props {
  locale: string;
  slug?: string;
}

const { locale, slug = '' } = Astro.props;
const altLocale = locale === 'en' ? 'pl' : 'en';
const altHref = slug ? `/${altLocale}/${slug}` : `/${altLocale}`;
---
<a href={altHref} class="lang-switcher" hreflang={altLocale}>
  {t('lang.switch', locale)}
</a>

<style>
  .lang-switcher {
    font-size: 0.85rem;
    opacity: 0.8;
    text-decoration: none;
    border: 1px solid currentColor;
    padding: 0.2em 0.5em;
    border-radius: 3px;
  }
  .lang-switcher:hover { opacity: 1; }
</style>
